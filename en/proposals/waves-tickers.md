# Waves Ticker Protocol

## Motivation

Waves Platform allows to create and transfer any asset if its creator pays a fee. This lowers the threshold for entering the platform but opens up a lot of opportunities to send spam at a relatively low price. These scam assets could be used for fraudulent purposes, for example by duplicating, fully or in part, the name of an existing cryptocurrency or a well-known company with the aim of misleading users.

We want to protect our users from suspecious assets. It could be possible with some kind of listings generated by token holders with voting system or by a trusted organization in compliance with established rules, access to which is public. 
Here we present a standard that allows the exchange of information about tokens between data providers and applications using the Waves blockchain.

Any company or individual provider can provide information about tokens, verify/certify projects that have issued a token in the Waves blockchain. Any application using the Waves blockchain can use the information provided by the providers.

The good example of such provider is [bettertokens](http://bettertokens.org/) - Tokenization Standards Association, a non-profit organization, the main function of them is development of due diligence standards for companies engaged in the tokenization of assets and initial coin offerings (ICO)/ token generation events (TGE). 

## Specification


We plan that the client interface will react to a token’s rating respectively to the chosen listing. Our protocol is supposed to serve as an interaction between providers and the blockchain. A provider can be both a centralized organization with a developed methodology and a decentralized service for ranking tokens by voting. 

The providers' accounts are specified in the settings so the ranking can be read from the corresponding account's state. So that the user has the opportunity to choose a "good" provider. It is also planned to organize a rating of the providers, determined by users’ voting.

![](/_assets/waves_ticker_1.png)

Each provider has its own Waves address. Before starting to supply information about tokens, providers must fill information about themselves as one data entry of DataTransaction. Then, for each token, the provider fills another data entry in the same DataTransaction, with status and detailed information. DataTransaction is sent to smart account address and could be read then as account state. Example of such transaction in JSON format:

```
{
  "version" : 1,
  "sender": "3FjTpAg1VbmxSH39YWnfFukAUhxMqmKqTEZ", 
  "data": [
    {"key": "data_provider", // provider initialization key
     "type": "string", 
     "value": "provider_name", // company name 
     }, {
     "key": "link", 
     "type": "string", 
     "value": "http://example.com", // provider’s site 
     }, {
     "key": "email", 
     "type": "string", 
     "value": "example@gmail.com", // contact email 
     }, {
     "key": "about", // provider initialization key
     "type": "string", 
     "value": "Verification provider", // provider info 
     }, {
     "key": "logo", 
     "type": "string", 
     "value": "svg_code", // provider logo 
     }
    {"key": "2L3hRkSJpmaytgSfKLSNgC1vcoUvGGAv2353c6V9hPKC", // token ID
     "type": "integer", 
     "value": "1", // status
     }, {
     "key": "link", 
     "type": "string", 
     "value": "http://example.com", // project site 
     }, {
     "key": "email", 
     "type": "string", 
     "value": "example@gmail.com", // project contact email
     }, {
     "key": "details", 
     "type": "string", 
     "value": "Founded in June of 2012, Company is a digital currency wallet and platform where merchants and consumers can transact with new digital currencies like bitcoin, ethereum, and litecoin. Based in San Francisco, California.", // brief project description
     }, {
     "key": "ticker", 
     "type": "string", 
     "value": "TKR", // assigned project ticker
     }, {
     "key": "logo", 
     "type": "string", 
     "value": "svg_code", // project logo in svg format
     }
  ],
  "fee": 100000
}
```
Where `version` is a DataTransaction version of transaction (this information you can find in our documentation),  `sender` is a provider address, `data` consists of data entries each of which contains fields `key`, `type` and `value`, and `fee` is a fee amount in Waves. The token's status can be "scam", "suspicious", "with detailed description", "proven" or "gateway". More detailed information about parameters you can find in the tables below.


Table 1. Tokens statuses


| Status | Description |
| :--- | :--- |
| -2 | Scam token |
| -1 | Suspicious token |
| 0 | Token with detailed description |
| 1 | Proven tokens |
| 2 | Gateways |

Table 2. Parameters for the provider description 


| Key | Value |
| :--- | :--- |
| data_provider | Provider initialization key | 
| link | A link to the provider's website |
| email | Contact email | 
| about | Provider service Information |
| logo | Logo in  svg format |

Table 3. Parameters to describe the token

| Key | Value |
| :--- | :--- |
| _id_ (token ID) | Status |
| link | A link to the project’s website |
| email | Project contact email |
| details | Description of the project |
| ticker | Assigned project ticker |
| logo | Project logo in svg format |


## Example of blacklist smart-contract

Here we present an example of smart-contract which blacklist all transactions with suspicious and scam tokens:
```
let address = …

match tx {
    case tx: BurnTransaction | TransferTransaction | MassTransferTransaction | ReissueTransaction | ExchangeTransaction | SetAssetScriptTransaction => extract(getInteger(address, tx.assetId)) >= 0
    case _ => false
}

```

### Interaction Waves applications with the protocol

Table 4. Values of token parameters in the UI

<table>
  <tr>
    <td>Parameter</td>
    <td>Status</td>
    <td>Content</td>
  </tr>
  <tr>
    <td rowspan="4">Link</td>
    <td>-1</td>
    <td>Not displayed</td>
  </tr>
  <tr>
    <td>0</td>
    <td>A link to the project’s website</td>
  </tr>
  <tr>
    <td>1</td>
    <td>A link to the project’s website</td>
  </tr>
  <tr>
    <td>2</td>
    <td>Link to the personal account of the gateway</td>
  </tr>
   <tr>
    <td rowspan="4">Email</td>
    <td>-1</td>
    <td>Not displayed</td>
  </tr>
  <tr>
    <td>0
    <td>Project contact email
  </tr>
  <tr>
    <td>1
    <td>Project contact email
  </tr>
  <tr>
    <td>2
    <td>Gateway support email
  </tr>
  <tr>
    <td rowspan="4">Details</td>
    <td>-1</td>
    <td>The reason for getting into the filter of suspicious projects (optional)</td>
  </tr>
  <tr>
     <td>0</td>
     <td>Description of the project</td>
  </tr>
  <tr>
    <td>1</td>
    <td>Description of the project</td>
  </tr>
  <tr>
    <td>2</td>
    <td>Description of I / O conditions through gateway</td>
   </tr>
   <tr>
    <td rowspan="4">Ticker symbol</td>
    <td>-1</td>
    <td>Not displayed</td>
  </tr>
  <tr>
    <td>0</td>
    <td>Not displayed</td>
  </tr>
  <tr>
    <td>1</td>
    <td>Assigned project ticker</td>
  </tr>
  <tr>
    <td>2</td>
    <td>Not displayed</td>
  </tr>
  <tr>
    <td rowspan="4">Logo</td>
    <td>-1</td>
    <td>Not displayed</td>
  </tr>
  <tr>
    <td>0</td>
    <td>Project logo in svg format</td>
  </tr>
  <tr>
    <td>1</td>
    <td>Project logo in svg format</td>
  </tr>
  <tr>
    <td>2</td>
    <td>Project logo in svg format</td>
  </tr>
</table>

## Settings

The default settings indicate the addresses of bettertokens and the community spam-list.
The user has the opportunity to add the addresses of their providers.

If, when connecting a provider, intersections are detected by the token ID, the user is prompted to select the provider he trusts more. In this case, information about the token that is present in the lists with several providers will request from the chosen provider.



### UI change depending on status

Table5. UI Change 

<table>
  <tr>
    <td>Status</td>
    <td>UI Change</td>
  </tr>
  <tr>
    <td rowspan="3">-1 (Suspicious tokens)</td>
    <td>Portfolio page <ul><li>Hiding the token name.</li><li>Falling into the “Suspicious” filter.</li><li>Displays the label “Suspicious” instead of the name in the list.</li></ul></td>
  </tr>
  <tr>    
    <td>Transaction page <ul><li>Hiding the token name.</li><li>Displays the label “Suspicious” instead of the name in the list.
</li><li>Change the colors of the data in the block to muted.</li></ul></td>
  </tr>
  <tr>    
    <td>Token Details Window <ul><li>Display label “Suspicious” next to the token name.</li><li>Hiding the attachment specified when creating the token. Instead, the reason for entering the filter, if specified.</li><li>Link to information provider site.</li></ul></td>
  </tr>
  <tr>
    <td>0 (Token info)</td>
    <td>Token Details Window<ul><li>Add links to the project site</li><li>Add project contact email.</li><li>Project description.</li><li>Project logo.</li><li>Link to information  provider site. </li></ul></td>
  </tr>
  <tr>
    <td rowspan="4">1 (Verification)</td>
    <td>Portfolio page <ul><li>Getting into the filter of suspicious projects.</li><li>Displaying the label “Qualified Issuer” next to the token name.</li><li>Project logo instead of the standard icon.</li><li>Add a quick jump to DEX</li></ul></td>
  </tr>
  <tr>    
    <td>Token Details Window <ul><li>Displaying the label “Qualified Issuer” next to the token name.</li><li>Add links to the project site.</li><li>Add project contact email.</li><li>Hiding the attachment specified when creating the token. Instead of it - the essence of the project, specified in the data-transaction from the provider.</li><li>Project logo instead of the standard icon.</li><li>Ticker.</li><li>Link to information provider site.</li></ul></td>
  </tr>
  <tr>    
    <td>Search<ul><li>Priority search by ticker.</li></ul></td>
  </tr>
  <tr>    
    <td>DEX<ul><li>Ticker output instead of name in whatchlist.</li><li>Priority search by ticker</li></ul></td>
  </tr>
  <tr>
    <td rowspan="4">2 (Gateway)</td>
    <td>Portfolio page <ul><li>Getting into the “Gateways” filter.</li><li>Displaying the “Gateway” label next to the token name.</li><li>Project logo instead of the standard icon.</li><li>Add a quick jump to DEX</li></ul></td>
  </tr>
  <tr>    
    <td>Shipping Window<ul><li>The appearance of the tabs on the type http://joxi.ru/KAxLe4UM05KDA8.</li><li>Project logo instead of the standard icon</li></ul></td>
  </tr>
  <tr>    
    <td>Receiving window<ul><li>The appearance of the tabs on the type http://joxi.ru/V2VOnZCxOo8MAv.</li><li>Project logo instead of the standard icon</li></ul></td>
  </tr>
 <tr>    
    <td>Token Details Window <ul><li>Displaying the “Gateway” label next to the token name.</li><li>Add links to the project site.</li><li>Add project contact email.</li><li>Hiding the attachment specified when creating the token. Instead of it - the essence of the project, specified in the data-transaction from the provider.</li><li>Project logo instead of the standard icon.</li><li>Ticker.</li><li>Link to information provider site.</li></ul></td>
  </tr>



